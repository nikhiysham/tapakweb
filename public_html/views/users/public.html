<!-- BEGIN PAGE HEADER-->
<div class="page-bar">
  <ul class="page-breadcrumb">
    <li>
      <i class="fa fa-home"></i>
      <a ui-sref="dashboard">Home</a>
      <i class="fa fa-angle-right"></i>
    </li>
    <li>
      <a ui-sref="datatablesmanaged">Manage Category</a>
    </li>
  </ul>
</div>
<!-- END PAGE HEADER-->
<!-- BEGIN MAIN CONTENT -->
<div class="row" style="margin-top:10px">
  <div class="col-md-12">
    <!-- BEGIN EXAMPLE TABLE PORTLET-->
    <div class="portlet light bordered">
      <div class="portlet-title">
        <div class="caption font-dark">
          <i class="icon-settings font-dark"></i>
          <span class="caption-subject bold uppercase"> Category List</span>
        </div>
      </div>
      <div class="portlet-body">
        <div class="table-toolbar">
          <div class="row">
            <div class="col-md-6">
              <div class="btn-group">
                <button id="sample_editable_1_new" class="btn sbold green" data-toggle="modal" data-target="#addCategoryModal" ng-click="clearCategory()"> Add New
                                    <i class="fa fa-plus"></i>
                                </button>
              </div>
            </div>
            <div class="col-md-6">
              <div class="btn-group pull-right">
                <button class="btn green  btn-outline dropdown-toggle" data-toggle="dropdown">Tools
                                    <i class="fa fa-angle-down"></i>
                                </button>
                <ul class="dropdown-menu pull-right">
                  <li>
                    <a href="javascript:;">
                                            <i class="fa fa-print"></i> Print </a>
                  </li>
                  <li>
                    <a href="javascript:;">
                                            <i class="fa fa-file-pdf-o"></i> Save as PDF </a>
                  </li>
                  <li>
                    <a href="javascript:;">
                                            <i class="fa fa-file-excel-o"></i> Export to Excel </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <table class="table table-striped table-bordered table-hover table-checkable order-column" datatable="ng" dt-instance="dtInstance" dt-options="dtOptions" dt-column-defs="dtColumnDefs">
          <thead>
            <tr>
              <th> Name </th>
              <th> Type </th>
              <th class="col-sm-2 text-center"> Quota </th>
              <th class="col-sm-2 text-center"> Status </th>
              <th class="col-sm-2">&nbsp;</th>
            </tr>
          </thead>
          <tbody>
            <tr class="odd gradeX" ng-repeat="x in categories" ng-if="categories.length > 0">
              <td>{{x.name}}</td>
              <td> <span ng-bind="getTypeName(x.type)"></span></td>
              <td class="text-center">{{x.quota}}</td>
              <td class="text-center">
                <span class="label label-sm label-success"> Aktif </span>
              </td>
              <td class="text-center">
                <button type="button" ng-click="edit(x)" class="btn btn-warning"><i class="fa fa-edit"></i></button>
                <button type="button" ng-click="delete(x)" class="btn btn-danger"><i class="fa fa-trash-o"></i></button>
              </td>
            </tr>

          </tbody>
        </table>
      </div>
    </div>
    <!-- END EXAMPLE TABLE PORTLET-->
  </div>
</div>
<!-- <div ng-include="'modal/add_product.html'"></div> -->

<div id="addCategoryModal" class="modal fade" role="dialog" aria-labelledby="categoryModal" aria-hidden="true">
  <div class="modal-dialog" role="document">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">  <span class="caption-subject bold uppercase"> {{modalMode}} Category</span></h4>
      </div>
      <form name="form" novalidate ng-submit="submit(form)">
        <div class="modal-body">
          <div class="form-group">
            <label for="name" class="form-control-label">Name <span class="field-required">*</span></label>
            <input type="text" name="name" class="form-control" ng-model="category.name" required>
            <span class="field-required" ng-if="form.$submitted && form.name.$invalid">
                 Name is required
             </span>
          </div>
          <div class="form-group">
            <label for="name" class="form-control-label">Type <span class="field-required">*</span></label>
            <select class="form-control" name="type" id="type" ng-options="x.code as x.name for x in types" ng-model="category.type" required>
                <option value="" selected>Choose</option>
              </select>
            <span class="field-required" ng-if="form.$submitted && form.type.$invalid">
                  Type is required
              </span>
          </div>
          <div class="form-group">
            <label for="name" class="form-control-label">Quota  <span class="field-required">*</span></label>
            <input type="text" name="quota" class="form-control" ng-model="category.quota" required>
            <span class="field-required" ng-if="form.$submitted && form.quota.$invalid">
                 Quota is required
             </span>
          </div>

        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-success uppercase pull-right" ng-if="modalMode === 'EDIT'">Update</button>
          <button type="submit" class="btn btn-success uppercase pull-right" ng-if="modalMode === 'ADD'">Submit</button>
        </div>
      </form>
    </div>

  </div>
</div>

<!-- END MAIN CONTENT -->
<!-- BEGIN MAIN JS -->
<!-- <script>
TableDatatablesManaged.init();
</script> -->
<!-- END MAIN JS -->
